var ngDataAnnotations=angular.module("ngDataAnnotations",[]);ngDataAnnotations.directive("timePropertyCompares",function(){return isDateComparisionValid=function(e,t,r){switch(r){case"<":return t>e;case"<=":return t>=e;case"=":return e==t;case">=":return e>=t;case">":return e>t;case"!=":return e!=t;default:throw"Invalid operator"}},{require:"ngModel",link:function(e,t,r,n){var a=r.timePropertyCompares.split("."),i=r.timePropertyComparesOperator;e.$watch(r.timePropertyCompares,function(){for(var e=a,t=new Date(n.$viewValue),r=n.$$scope,o=0;o<e.length;o++)r=r[e[o]];n.$setValidity("timePropertyCompares",isDateComparisionValid(t,r,i))}),n.$parsers.unshift(function(e){for(var t=a,r=new Date(e),o=n.$$scope,s=0;s<t.length;s++)o=o[t[s]];return n.$setValidity("timePropertyCompares",isDateComparisionValid(r,o,i)),e}),n.$formatters.unshift(function(e){for(var t=a,r=n.$$scope,o=0;o<t.length;o++)r=r[t[o]];var s=new Date(e);return n.$setValidity("timePropertyCompares",isDateComparisionValid(s,r,i)),e})}}}),ngDataAnnotations.directive("textPropertyCompares",function(){return isTextComparisionValid=function(e,t,r){switch(r){case"<":return t>e;case"<=":return t>=e;case"=":return e==t;case">=":return e>=t;case">":return e>t;case"==":return e===t;default:throw"Invalid operator"}},{require:"ngModel",link:function(e,t,r,n){var a=r.textPropertyCompares.split("."),i=r.textPropertyComparesOperator;e.$watch(r.textPropertyCompares,function(){for(var e=a,t=n.$viewValue,r=n.$$scope,o=0;o<e.length;o++)r=r[e[o]];n.$setValidity("textPropertyCompares",isTextComparisionValid(t,r,i))}),n.$parsers.unshift(function(e){for(var t=a,r=n.$$scope,o=0;o<t.length;o++)r=r[t[o]];return n.$setValidity("textPropertyCompares",isTextComparisionValid(e,r,i)),e}),n.$formatters.unshift(function(e){for(var t=a,r=n.$$scope,o=0;o<t.length;o++)r=r[t[o]];return n.$setValidity("textPropertyCompares",isTextComparisionValid(e,r,i)),e})}}}),ngDataAnnotations.directive("numericPropertyCompares",function(){return isNumericPropertyCompareValid=function(e,t,r,n,a){var i=t;if(null!=n)switch(a){case"+":i+=n;break;case"-":i-=n;break;case"*":i*=n;break;case"/":i/=n}switch(r){case"<":return i>e;case"<=":return i>=e;case"=":return e==i;case">=":return e>=i;case">":return e>i;case"==":return e===i;case"!=":return e!=i;default:throw"Invalid operator"}},{require:"ngModel",link:function(e,t,r,n){var a=r.numericPropertyCompares.split("."),i=r.numericPropertyComparesOperator,o=r.numericPropertyComparesMathematicRange,s=r.numericPropertyComparesMathematicOperator;e.$watch(r.numericPropertyCompares,function(){for(var e=a,t=n.$viewValue,r=n.$$scope,u=0;u<e.length;u++)r=r[e[u]];n.$setValidity("numericPropertyCompares",isNumericPropertyCompareValid(t,r,i,o,s))}),n.$parsers.unshift(function(e){for(var t=a,r=n.$$scope,u=0;u<t.length;u++)r=r[t[u]];return n.$setValidity("numericPropertyCompares",isNumericPropertyCompareValid(e,r,i,o,s)),e}),n.$formatters.unshift(function(e){for(var t=a,r=n.$$scope,u=0;u<t.length;u++)r=r[t[u]];return n.$setValidity("numericPropertyCompare",isNumericPropertyCompareValid(e,r,i,o,s)),e})}}}),ngDataAnnotations.directive("textPropertyContains",function(){return isTextContainValid=function(e,t,r,n,a){var i=e,o=t;switch("true"==r&&(i=e.toLowerCase(),o=t.toLowerCase()),null==a&&(a=-1),null==n&&(n="!="),n){case"<":return i.indexOf(o)<a;case"<=":return i.indexOf(o)<=a;case"=":return i.indexOf(o)==a;case">=":return i.indexOf(o)>=a;case">":return i.indexOf(o)>a;case"!=":return i.indexOf(o)!=a;default:throw"Operator "+n+" is invalid. Please check"}},{require:"ngModel",link:function(e,t,r,n){var a=r.textPropertyContains.split("."),i=r.textPropertyContainsCaseInsensitive;null==i&&(i=!1);var o=r.textPropertyContainsResult,s=r.textPropertyContainsComparisionOperator;e.$watch(r.textPropertyContains,function(){for(var e=a,t=n.$viewValue,r=n.$$scope,u=0;u<e.length;u++)r=r[e[u]];n.$setValidity("textPropertyContains",isTextContainValid(t,r,i,s,o))}),n.$parsers.unshift(function(e){for(var t=a,r=n.$$scope,u=0;u<t.length;u++)r=r[t[u]];return n.$setValidity("textPropertyContains",isTextContainValid(e,r,i,s,o)),e}),n.$formatters.unshift(function(e){for(var t=a,r=n.$$scope,u=0;u<t.length;u++)r=r[t[u]];return n.$setValidity("textPropertyContains",isTextContainValid(e,r,i,s,o)),e})}}}),ngDataAnnotations.directive("ngFunctionValidate",function(){return{require:"ngModel",link:function(e,t,r,n){var a=r.ngFunctionValidate;if(null==a||a.length<1)throw"Validate functions should be specified.";var i=a.split(";");if(null==i||i.length<1)throw"Validate functions should be specified";var o=r.ngFunctionValidateMonitors,s=[];s.push(n.$$attr.ngModel),null!=o&&(s=s.concat(o.split(";")));for(var u=0;u<s.length;u++){var c=s[u];e.$watch(c,function(){for(var r=0;r<i.length;r++){var a="ng-function-validate-"+i[r],o=t.attr(a);if(null==o||o.length<1)throw a+" doesn't exist in tag. Please check !";var s=e.$eval(t.attr(a));n.$setValidity(a,s)}})}}}});